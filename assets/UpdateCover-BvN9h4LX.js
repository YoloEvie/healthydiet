import{r as v,k as n,e as t,o as c,g as r,j as p,f,u as g,P as h,H as l}from"./element-plus-BAXMo5c4.js";import{_ as U}from"./index-bPO5O26h.js";const k={class:"cover-upload"},x=["src"],y={key:1},B={__name:"UpdateCover",emits:["update:imageUrl"],setup(C,{emit:i}){const o=v(""),u=i,d=e=>{const s=e.type==="image/jpeg"||e.type==="image/png",a=e.size/1024/1024<2;return s||l.error("只能上传JPG/PNG格式的图片"),a||l.error("图片大小不能超过2MB"),s&&a},_=e=>{o.value=e.url,u("update:imageUrl",e.url),l.success("图片上传成功")};return(e,s)=>{const a=n("el-icon"),m=n("el-upload");return c(),t("div",k,[r(m,{class:"avatar-uploader",action:"http://localhost:3000/api/upload/cover","show-file-list":!1,"on-success":_,"before-upload":d,name:"cover"},{default:p(()=>[o.value?(c(),t("img",{key:0,src:o.value,class:"avatar"},null,8,x)):(c(),t("div",y,[r(a,{class:"avatar-uploader-icon"},{default:p(()=>[r(g(h))]),_:1}),s[0]||(s[0]=f("div",{class:"upload-tip"},"点击上传封面图片",-1))]))]),_:1})])}}},G=U(B,[["__scopeId","data-v-e6cb4006"]]);export{G as U};
